TS流 基础扫盲 1
 (2007-07-06 18:12:25)
转载
标签： 
ts流
 
es流
 
ps流
分类： 工作笔记
之前积累的很多资料，因为硬盘的丢失而宣告生命结束，我一直不相信这是真的，因为在博闻强记，人也不是记忆机器，该有个地方存着，就放这里吧。
 
新开了个类别，工作笔记。

IP数据报有首部和数据两部分组成的，首部的前一部分是固定长度20字节，是所有IP数据报必须具有的。首部包括：总长度、标识、MF、DF、片偏移。
 
数字信号实际传送的是数据流，一般数据流包括以下三种：
ES流：也叫基本码流，包含视频、音频或数据的连续码流。
PES流：也叫打包的基本码流，是将基本的码流ES流根据需要分成长度不等的数据包，并加上包头就形成了打包的基本码流PES流。
TS流：也叫传输流，是由固定长度为188字节的包组成，含有独立时基的一个或多个节目，适用于误码较多的环境。 
 
TS流（TransportStream）即在MPEG-2系统中，由视频，音频的ES流和辅助数据复接生成的用于实际传输的标准信息流称为MPEG-2传送流。信息复合/分离的过程称为系统复接/分接，据传输媒体的质量不同，MPEG-2中定义了两种复合信息流：传送流（TS）和节目流（PS：ProgramStream）
 
TS流与PS流的区别在于TS流的包结构是固定长度的，而PS流的包结构是可变长度。 PS包与TS包在结构上的这种差异，导致了它们对传输误码具有不同的抵抗能力，因而应用的环境也有所不同。TS码流由于采用了固定长度的包结构，当传输误码破坏了某一TS包的同步信息时，接收机可在固定的位置检测它后面包中的同步信息，从而恢复同步，避免了信息丢失。而PS包由于长度是变化的，一旦某一PS包的同步信息丢失，接收机无法确定下一包的同步位置， 就会造成失步，导致严重的信息丢失。因此，在信道环境较为恶劣，传输误码较高时，一般采用TS码流；而在信道环境较好，传输误码较低时，一般采用PS码流由于TS码流具有较强的抵抗传输误码的能力，因此目前在传输媒体中进行传输的MPEG-2码流基本上都采用了TS码流的包
格。


DVD节目中的MPEG2格式，是MPEG2-PS，全称是Program Stream，TS的全称则是Transport Stream。MPEG2-PS主要应用于存储的具有固定时长的节目，如DVD电影，而MPEG-TS则主要应用于实时传送的节目，比如实时广播的电视节目。这两种格式的主要区别是什么呢？你将DVD上的VOB文件的前面一截剪掉（或者干脆就是数据损坏），那么就会导致整个文件无法解码，而电视节目是你任何时候打开电视机都能解码（收看）的，所以，MPEG2-TS格式的特点就是要求从视频流的任一片段开始都是可以独立解码的。



FEC前向纠错
前向纠错也叫前向纠错码(Forward Error Correction简称FEC)，是增加数据通讯可信度的方法。在单向通讯信道中，一旦错误被发现，其接收器将无权再请求传输。FEC 是利用数据进行传输冗长信息的方法，当传输中出现错误，将允许接收器再建数据。

从PES流到TS流,这个过程中已经加进去FEC纠错码,可以采用不同的速率?FECrate　,在DVB-S标准中,规定5种速率—1/2、2/3、3/4、5/6、7/8。以7/8为例,其实际意义是,在一个TS流中,只有7/8的内容是装有节目内容的PES流,而另外的1/8内容,则是用来保护数据流不发生变异的纠错码。还用上面的例子做比喻,如果整个节目的符码率是毛重的话,则7/8的节目内容好比是净重,而1/8的纠错码就是包装箱的重量。
